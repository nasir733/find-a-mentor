{% extends "mentor/base.html" %}
{% load static %}

{% block content %}


<div class="flex-1">
    <main class="px-6 py-8 mx-auto space-y-6 xl:px-12">
      <div class="bg-white rounded-md shadow-sm ">
  <div class="flex items-center justify-between px-4 py-4 border-b border-gray-200 lg:px-6">
    <div>
      <h2 class="text-base font-semibold text-gray-800">Meetings</h2>
      
    </div>
   
  </div>
  <!-- <div class="flex items-center justify-between space-x-4">
  <form action="" class="relative flex-1">
    <input type="text" placeholder="Search Clipped Content..." class="block w-full py-3 pl-12 placeholder-gray-400 transition-colors duration-300 border-0 border-b border-gray-200 border-transparen peer focus:border-b-blue-600 focus:border-transparent ring-transparent focus:ring-transparent focus:ring-opacity-80 focus:bg-gray-50 ">
    <button class="absolute flex items-center justify-center w-8 h-8 p-1 text-gray-400 transition-all duration-300 bg-transparent rounded-full left-3 top-2 hover:bg-gray-100 peer-focus:text-blue-600">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
    </button>
  </form>
</div> -->

  <div class="px-4 divide-y divide-gray-200 lg:px-6">
      {% for x in meeting_schedule %}
   
    <div class="flex items-center justify-between py-3">
      <div class="flex space-x-4">
        <img src='{{x.content.image.url}}' class="w-16 h-16 rounded-md" alt="">
        <div class="">
          <span class="text-base font-semibold text-gray-800">{{x.meeting_title}} requested {{x.mentee.user.username}}</span>
          <span class="block mb-1 font-semibold tracking-wide text-gray-500 uppercase text-xxs">{{x.mentor_time_slot.from_time}} To {{x.mentor_time_slot.to_time}} ON {{x.date}}</span>
          <!-- <form action="{% url 'mentor:updatemeetingurl' x.id %}" method="post">
            {% csrf_token %}
          <span class="block mb-3 text-xs font-medium text-gray-400"> Meeting url &nbsp; <input name="meeting_url"  id="tag_input" type="text" class="w-full px-4 py-4 placeholder-gray-400 border border-gray-200 rounded-md" style="height: 20px;" value="{{x.meeting_url}}">
            <button type="submit" class="px-3 py-2 bg-gray-100 rounded-md">Submit</button>
          </span>
         </form> -->
        </div>
      </div>
      <div class="flex items-center space-x-2 " >
        <a href="{% url 'meeting:callyourmentee' x.id %}" target="_blank_" class="flex px-4 py-3 space-x-2 text-sm font-semibold leading-4 text-gray-500 transition-colors duration-300 border border-green-300 rounded-md hover:bg-green-100 hover:text-gray-700">
           
            <span class="md:inline">Start Call</span>
          </a>
          <a href="{% url 'meeting:completemeeting' x.id %}"  class="flex px-4 py-3 space-x-2 text-sm font-semibold leading-4 text-gray-500 transition-colors duration-300 border border-green-300 rounded-md hover:bg-green-100 hover:text-gray-700">
            
            <span class="md:inline">Complete Meeting</span>
          </a>
          <input type="text" id="url" value="https://www.findamentor.co{% url 'meeting:completemeeting' x.id %}" hidden>
       
          <button onclick="myFunction()"  class=" flex px-4 py-3 space-x-2 text-sm font-semibold leading-4 text-gray-500 transition-colors duration-300 border border-green-300 rounded-md hover:bg-green-100 hover:text-gray-700">
          
            <span class="md:inline small tooltiptext " id="myTooltip"><i class="far fa-copy"></i></span>
          </button>
        </div>
    </div>
   
    {%  endfor %}
   
  </div>
</div>

    </main>
  </div>

<script>

  function myFunction() {
  /* Get the text field */
  var copyText = document.getElementById("url");

  /* Select the text field */
  copyText.select();
  copyText.setSelectionRange(0, 99999);
   /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText.value);
  console.log(copyText.value);

  /* Alert the copied text */
}
</script>

{% endblock %}